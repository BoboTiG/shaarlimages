/* Galinear 0.2 https://github.com/BoboTiG/galinear */function addEvent(e,t,n){"use strict";return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function curr_prev_next(e){"use strict";var t,n=gallery.length,r=!1,i=!1,a=!1;for(t=0;n>t;t+=1)if(gallery[t].key===e){r=gallery[t],t>0&&(i=gallery[t-1]),n-1>t&&(a=gallery[t+1]);break}return{current:r,previous:i,next:a}}function parse_date(e){"use strict";var t=new Date(1e3*e),n=t.getFullYear().toString(),r=(t.getMonth()+1).toString(),i=t.getDate().toString();return 1===r.length&&(r="0"+r),1===i.length&&(i="0"+i),n+r+i}var linearPartitionTable=function(e,t){"use strict";var n,r,i,a,o=e.length,s=[],l=[],c=[],u=[],d={};for(n=0;o>n;n+=1){for(s=[],r=0;t>r;r+=1)s.push(0);l.push(s)}for(n=0;o-1>n;n+=1){for(s=[],r=0;t-1>r;r+=1)s.push(0);c.push(s)}for(n=0;o>n;n+=1)l[n][0]=e[n]+(n?l[n-1][0]:0);for(n=0;t>n;n+=1)l[0][n]=e[0];for(n=1;o>n;n+=1)for(r=1;t>r;r+=1){for(u=[],i=0;n>i;i+=1)u.push([Math.max(l[i][r-1],l[n][0]-l[i][0]),i]);for(d={computed:1/0,value:1/0},i=0,a=u.length;a>i;i+=1)u[i][0]<d.computed&&(d={value:u[i],computed:u[i][0]});l[n][r]=d.value[0],c[n-1][r-1]=d.value[1]}return[l,c]},linearPartition=function(e,t){"use strict";var n,r,i,a=e.length-1,o=[],s=[],l=[];if(1>t)return s;if(t>a){for(n=0;a>=n;n+=1)s.push([e[n]]);return s}for(i=linearPartitionTable(e,t),r=i[1],t-=2;t>=0;){for(l=[],n=r[a-1][t]+1;a>=n;n+=1)l.push(e[n]);l=[l],o=l.concat(o),a=r[a-1][t],t-=1}for(n=0;a>=n;n+=1)s.push(e[n]);return s=[s],s.concat(o)},linearPartitionFitPics=function(e,t){"use strict";t.border=t.border||0,t.spacing=t.spacing||0;var n,r,i,a,o,s,l,c,u=0,d=0,p=0,f=[],h=[];for(n=0,i=e.length;i>n;n+=1)e[n].aspectRatio=e[n].width/e[n].height,d+=e[n].aspectRatio*t.preferedImageHeight;if(o=Math.round(d/t.containerWidth),1>=o)for(n=0,i=e.length;i>n;n+=1)e[n].width=parseInt(t.preferedImageHeight*e[n].aspectRatio,10),e[n].height=t.preferedImageHeight;else{for(n=0,i=e.length;i>n;n+=1)f.push(parseInt(100*e[n].aspectRatio,10));a=linearPartition(f,o);for(n in a){for(s=a[n],l=t.containerWidth,p=0,h=[],i=s.length,t.spacing&&(l-=t.spacing*(i-1)),r=0;i>r;r+=1)h.push(e[u]),u+=1;for(r=0,i=h.length;i>r;r+=1)p+=h[r].aspectRatio;for(r=0;i>r;r+=1)c=h[r],c.width=parseInt(l/p*c.aspectRatio,10),c.height=parseInt(l/p,10),r===i-1&&(c.last=!0)}}return e},parse_query_string=function(){"use strict";var e=window.location.search,t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,r,i){t[n]=i}),t},params=parse_query_string();if(!galinear_opt)var galinear_opt={gallery_url:"/",img_folder:"images/",thumb_folder:"images/thumbs/",per_page:20,lines:3,show_nsfw:0,toolbar:1,txt_no_img:"Aucune image ☹",txt_older:"◄ Vieilleries",txt_newer:"Nouveautés ►",txt_home:"Retour à la galerie",txt_permalink:"Lien source",txt_source:"Image originale",touch_support:"ontouchend"in document};if(params.per_page&&(galinear_opt.per_page=parseInt(params.per_page,10),galinear_opt.per_page<10&&(galinear_opt.per_page=10)),params.lines&&(galinear_opt.lines=parseInt(params.lines,10),galinear_opt.lines<2&&(galinear_opt.lines=2)),params.show_nsfw&&(galinear_opt.show_nsfw=parseInt(params.show_nsfw,10),1!==galinear_opt.show_nsfw&&(galinear_opt.show_nsfw=0)),params.toolbar&&(galinear_opt.toolbar=parseInt(params.toolbar,10),1!==galinear_opt.toolbar&&(galinear_opt.toolbar=0)),navigator.cookieEnabled&&document.cookie.length>0,params.i&&gallery.length>0){adjust_me=function(){"use strict";var e=document.getElementsByClassName("image-container-alone")[0],t=e.getElementsByTagName("img")[0];t.width<document.documentElement.clientWidth-2&&(t.style.borderLeft="1px solid #111",t.style.borderRight="1px solid #111"),t.height<document.documentElement.clientHeight-2&&(t.style.borderTop="1px solid #111",t.style.borderBottom="1px solid #111")};var figure,img,title,toolbar,home,permalink,source,previous,next,curr_prev_next_img=curr_prev_next(params.i),image=curr_prev_next_img.current,start=0;image===!1?document.write("<p>"+galinear_opt.txt_no_img+"</p>"):(title=image.src,image.nsfw&&(title+=" [ ☂ NSFW ]"),title+=" - "+document.title,document.title=title,image.docolav||(image.docolav="222"),document.body.style.background="#"+image.docolav+" url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAS1BMVEUsLCwuLi4WFhYtLS0rKysXFxcqKioYGBgpKSkZGRkoKCgnJycaGhomJiYbGxslJSUcHBwkJCQdHR0jIyMeHh4iIiIhISEgICAfHx+c1cq8AAAAGXRSTlN/f39/f39/f39/f39/f39/f39/f39/f39/V1GDwwAACKVJREFUeNotloli4zgMQ7UzbeJLJyVS//+l++Bdt01jR6JIEACTrLU9z9Ebf6vF2r/Ne1/Txvf0mn2O36e0Udbxc/3883Mcu8WdV/7bZ9Sj7pTn2LvEirn3jO3z9zd67dZtD7tub+N85vbwXG1V8yhz1Yh+2N5me6Y69/Lpy/ZTZoTH9wziLK/V8ueyXfbYq4evFRFtOuttjNX3iE3ktOdkX815P89c022UqaRm91XJ1ccISuprbyK1OU82my3fk9+wNHy34b3a1ispGPm2p+yl92uPhwDL+909toI/bZNh589iTEs99zFD8b3nbGyinChkY8Eylq/eKbevIJtHQZ0MLTabyrB0H3eE+WzURoy1bFk1qhAIa/6esxPvDWBrCMFuvsnOg4xGJoM6By0gn+Xs7e8nE3gq70cpNFUBqoVRZgNvViw1xKK1mtz6XkSvs7n7urLvIQg8uOX9rD0DCznO3vmoDSMQqC9qaGMlnVM7J7QyArb8vXu07+/cIZCnILiN/pUHlAirDmZnZY8p7iQqsgMMY7QCx+56gXc5x3tgsERtb+xjsxo+eLi4apyPSJy2SOAEcB9Ejw3jbDY2gBkbAGSTqQGpaAQzg6zAgf6SUkuAn53lAkd4wAtO2PBXYPRulN1ENtrz9pBioEaIViAfyQhgun87S8jZot/AIwFEveztiLNAnF+sUHqohnjTek+1tWV6vCZ95HiocF+7+HpTsuARpGY11SsATTHlo6BuV7JTLOkRQKTWLWA86tn6AsdBxKLHi2y0nZZdtxkNAScgiZxssMtiOiG7ZZRe8+1lZhWPetozbYvOZANJJTI2qIy2HQYkQ0ed9B28duQqUYiJzgUq86HvIypmM3UmIhlTmqZ7ho481XRk0oVEwd5+eWngK7H2q5NomSiyX/cqY0iK2t/+Cz9F5nT8/VRyI4dBP3Km2RzMSewi4efPl2TtvtHBIlORaL9tgMj8PxN7fHKcaNY/V/UZAEa2tLBz2Pn9/p5uSrJnkRDF+lui2BRncn8L6Go0TBZSM5QD6ah3hPjzu3tde+beAs2i8lewzSv8TKPRZCFoUKoqqmM5nCjFBlC/VvNzuKwR8hGgBjz3s+2+7JNUzsq3XC/81c6iP3ftnGNecNoOTY5M3mbyxTDK3ORJ4EkbBesSm5f89j9OBLXQeNBEcXaQTVeKXbOiDAqQf03dY2kRxuFyMjzoXsTK3eThSIn6z1GvSnLEV6Of73luNZzgS7jU1Ovx+XCYBSlm8RUjQ08grXWlgIduRFYcon2/T1MnSLYuqXHUmg9HKAMDti13hC4OsEgh5PlRSaDJm+4cgHJ+p4Pj/9pKD6mBCse1V8J7S1b5Yol8gFssSe+/G2WJYO1s7nrOA8l5Nyk2mztZCXnNvOOnA84mqiIHgaAWLu4MQCxX617p9pyuIFjHjFtQK1guutov2aRWNSI0EVdJohV/nlKaLy10PUndpThDK6Qq0wVBxGGMt6ERQdtGoTaaq9zW+fvIAIIf8ipPKnO350T2W51TsQVhlILzgYZcgb2jLGT5yqmdJfB1TYoxGf3pl0wHqx+NuhYvTHuej6xz2qcGdVZfFAMvBPfetaIyxK7BdaYCd7ES6QkPuKrJNPcjxID20yHS9clog64JIJbzCv2vI+O9vyqBAPSPDKwesGsUVBJd8TqDBlbfJg+16wK8IYoEcsm3hnBJWP6yl7chWDvgNb+zzAPtia/dNVE54vMjwwnmuYNjdzllS/jjOyWgIY8IHx1bJ2fzKWgD5WpgFOa8iumdOFsB6DdpJnCPRp+gPFfFEa7PcV31yktM7LDeg6rLn2ficivqpy4kPDQtspeksVZ+nynX9gwvN+ZQb1xQ9sxWQ0H8Y80olBJhsxUumkgCTxqUgGop0YwsEJAM1gFRoITByQaqQToaz1ajfMuWZlqxTICnQMPxKCeT07lVokxcUDjhrCDWljAEYvbcNr8nLZXvgvQmwF6UK6+qr5gwEHrOzwheDWgoS5FZNB+0zdHaD3YAZ4nDLJvM8rrA0O3OavTcovIwAesP6ZsjN5M9hKSpKFVfypLG0a1D7JP9NSTL4MYcKqIkkGikIWQ3AMFlZfpD06vmVW9PLWAlVWvQ0VLoqjrm2TRCh9xE3yjA3+Fj9fYEndUkr2iW+zQMQu0XEHVcmuVOhUFbSGqvZIahKVVIKrwhawrlrA0TqWRivm62ZcbS0Nj2JrJVgTrGoCVhJ2PchLSeYAa6DqhJ1CgPPKXDtApNzwCVCuwuE7Ct/V1xYsE8PLVpOXQi7fxPcg13TIbkZbxXjkn31ckgKbcs4lFPqDOiCLynK+Ha5HEpgL51c4neMkMZhHfTZDJXkPFt7Hes6iA8IUT8VURsYSC1jAYqGmD5uNbgPzWbyMQqtuql9vGso/rW0d3WyzKf32QmXYbfB2qmTJsKUOuUH8+CmbMMZh88wXvYtSYTpiM8YfRNY8vMgVuZsEQddqnv2yTawe1iVOUfhRy+AY7+eD3IRt9YUomchY3mMh0gba9yrNgsgxWSaZczQQdkQxrKdGzVSCI17Ym7AbpAHkXDzHMmchiXposcgVoGoVhE7ywiVEwZONydGNFLMy0Ad8A5fRE2oVFtXa9rBZWIm9MBmoa6qOpU7cddc1pGaDQQA+1wEi0zPQKaTm23TAooeTD91iS/e6AOmRTW1S1VqZN5qyR2SBQcraEKlyXu6q+BBY/c4OLPdQMCmJGcAWe6Q5TRIDWSjJCBhiOa9ZYqw6VuMOZTa4H0jaQFIxOEF2w9XwoOezk9Qr3RPo0moXrieeQfINm9We5Q0Tc18mCzMo2XKLbk3JxjchcZHNdzfkt7nlPjVSObFTsbQYXprjcYR0uyHA17cykZSTrxSRglEIGVdEcobcPsYwAP91Oo2lHJQsN1Yw7UpSZsZPps1yxBHgSFhjTBJKz75zO/Lq47q2CVe17xL/vwLgWyWdPtAAAAAElFTkSuQmCC)",document.body.style.transition="1s",img=document.createElement("img"),img.src=galinear_opt.img_folder+image.src,figure=document.createElement("figure"),figure.className="image-container-alone",figure.appendChild(img),document.body.appendChild(figure),galinear_opt.touch_support?(addEvent(document,"touchstart",function(e){start=e.targetTouches[0].clientX},!1),addEvent(document,"touchmove",function(e){e.preventDefault(),start-e.targetTouches[0].clientX<0?curr_prev_next_img.previous!==!1&&(document.location="?i="+curr_prev_next_img.previous.key):curr_prev_next_img.next!==!1&&(document.location="?i="+curr_prev_next_img.next.key)},!1)):(curr_prev_next_img.previous!==!1&&(previous=document.createElement("a"),previous.className="image-container-previous",previous.href="?i="+curr_prev_next_img.previous.key,previous.text="◄",document.body.appendChild(previous)),curr_prev_next_img.next!==!1&&(next=document.createElement("a"),next.className="image-container-next",next.href="?i="+curr_prev_next_img.next.key,next.text="►",document.body.appendChild(next)),document.onkeydown=function(e){switch(e=e||window.event,e.which||e.keyCode){case 37:curr_prev_next_img.previous!==!1&&(document.location="?i="+curr_prev_next_img.previous.key);break;case 39:curr_prev_next_img.next!==!1&&(document.location="?i="+curr_prev_next_img.next.key)}}),galinear_opt.toolbar&&(home=document.createElement("a"),home.className="home",home.href=galinear_opt.gallery_url,home.title=galinear_opt.txt_home,permalink=document.createElement("a"),permalink.className="permalink",image.guid&&(permalink.href=image.guid),permalink.title=galinear_opt.txt_permalink,source=document.createElement("a"),source.className="source",source.href=img.src,source.title=galinear_opt.txt_source,toolbar=document.createElement("div"),toolbar.className="image-container-alone-toolbar",toolbar.appendChild(home),toolbar.appendChild(permalink),toolbar.appendChild(source),document.body.appendChild(toolbar))),window.onload=adjust_me,window.onresize=adjust_me}else{var gallery_images=[];linear_me=function(){"use strict";var e,t,n,r,i,a,o,s,l,c="",u=0,d=1,p=0,f=gallery.length,h=document.getElementById("image-container"),m=Math.ceil(f/galinear_opt.per_page);if(params.p&&!params.d&&(d=parseInt(params.p,10),1>d&&(d=1),d>m&&(d=m),p=(d-1)*galinear_opt.per_page),0===gallery_images.length){if(params.d){for(l=[],e=0;f>e;e+=1)parse_date(gallery[e].date)===params.d&&l.push(gallery[e]);gallery=l,f=gallery.length}for(e=p;f>e&&u<galinear_opt.per_page;e+=1,u+=1)a=document.createElement("img"),a.width=gallery[e].w,a.height=gallery[e].h,i=document.createElement("a"),i.href="?i="+gallery[e].key,i.appendChild(a),r=document.createElement("figure"),r.appendChild(i),gallery[e].nsfw&&!galinear_opt.show_nsfw&&(r.className="nsfw",r.title="/!\\ NSFW /!\\"),h.appendChild(r),gallery_images.push({originalImage:h.getElementsByTagName("figure")[u].getElementsByTagName("img")[0],width:gallery[e].w,height:gallery[e].h,nsfw:gallery[e].nsfw})}if(0===f)return document.write("<p>"+galinear_opt.txt_no_img+"</p>"),void 0;for(s=linearPartitionFitPics(gallery_images,{containerWidth:document.documentElement.clientWidth-16,preferedImageHeight:parseInt((document.documentElement.clientHeight-25)/galinear_opt.lines,10),spacing:4}),n=h.getElementsByTagName("figure"),e=0,f=gallery_images.length;f>e;e+=1)t=gallery_images[e],t.originalImage.width=s[e].width,t.originalImage.height=s[e].height,gallery_images[e].nsfw&&!galinear_opt.show_nsfw&&(r=document.getElementsByTagName("figure")[e],s[e].width<95&&(r.style.backgroundSize="contain")),t.originalImage.src=galinear_opt.thumb_folder+gallery[p+e].src,t.last||(n[e].style.marginRight="4px");params.d||(o=document.createElement("div"),d>0&&m>d&&(c+='<a href="?p='+(d+1)+'">'+galinear_opt.txt_older+"</a> &nbsp; "),c+=" &nbsp; page "+d+"/"+m+" &nbsp; ",d>1&&(c+=' &nbsp; <a href="?p='+(d-1)+'">'+galinear_opt.txt_newer+"</a>"),o.innerHTML=c,o.className="pagination",h.appendChild(o)),galinear_opt.touch_support||(document.onkeydown=function(e){switch(e=e||window.event,e.which||e.keyCode){case 37:d>0&&m>d&&(document.location="?p="+(d+1));break;case 39:d>1&&(document.location="?p="+(d-1))}})},window.onload=linear_me,window.onresize=linear_me}
